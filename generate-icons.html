<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartForm - アイコン生成</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .icon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .icon-item {
            text-align: center;
            padding: 20px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background: #f8f9fa;
        }
        .icon-item h3 {
            margin: 10px 0;
            color: #2d3748;
        }
        .icon-item p {
            color: #718096;
            font-size: 14px;
        }
        canvas {
            border: 1px solid #cbd5e0;
            margin: 10px 0;
        }
        .download-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .download-btn:hover {
            background: #3182ce;
        }
        .instructions {
            background: #e6fffa;
            border: 1px solid #81e6d9;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .instructions h2 {
            color: #234e52;
        }
        .instructions p {
            color: #285e61;
        }
    </style>
</head>
<body>
    <h1>SmartForm アイコン生成ツール</h1>

    <div class="instructions">
        <h2>使用方法</h2>
        <p>1. 下記のアイコンを右クリックして「名前を付けて画像を保存」を選択</p>
        <p>2. ファイル名を以下のように設定：</p>
        <ul>
            <li>16x16 → icon16.png</li>
            <li>32x32 → icon32.png</li>
            <li>48x48 → icon48.png</li>
            <li>128x128 → icon128.png</li>
        </ul>
        <p>3. 保存先をextension/iconsフォルダに設定</p>
        <p>4. または「ダウンロード」ボタンをクリックして自動保存</p>
    </div>

    <div class="icon-grid">
        <div class="icon-item">
            <h3>16x16px</h3>
            <canvas id="icon16" width="16" height="16"></canvas>
            <p>ツールバー用小アイコン</p>
            <button class="download-btn" onclick="downloadIcon('icon16', 'icon16.png')">ダウンロード</button>
        </div>

        <div class="icon-item">
            <h3>32x32px</h3>
            <canvas id="icon32" width="32" height="32"></canvas>
            <p>ポップアップ表示用</p>
            <button class="download-btn" onclick="downloadIcon('icon32', 'icon32.png')">ダウンロード</button>
        </div>

        <div class="icon-item">
            <h3>48x48px</h3>
            <canvas id="icon48" width="48" height="48"></canvas>
            <p>拡張機能管理画面用</p>
            <button class="download-btn" onclick="downloadIcon('icon48', 'icon48.png')">ダウンロード</button>
        </div>

        <div class="icon-item">
            <h3>128x128px</h3>
            <canvas id="icon128" width="128" height="128"></canvas>
            <p>Chrome Web Store用</p>
            <button class="download-btn" onclick="downloadIcon('icon128', 'icon128.png')">ダウンロード</button>
        </div>
    </div>

    <div class="instructions">
        <h2>注意事項</h2>
        <p>• ダウンロードしたファイルをextension/iconsフォルダに配置してください</p>
        <p>• ファイル名は必ず上記の通りに設定してください</p>
        <p>• 既存のファイルがある場合は上書きしてください</p>
    </div>

    <script>
        // SVGを各サイズのCanvasに描画
        const svgString = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="128" height="128" viewBox="0 0 128 128" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="formGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#48bb78;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#38a169;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="lightGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#f7fafc;stop-opacity:0.8" />
    </linearGradient>
  </defs>
  <circle cx="64" cy="64" r="60" fill="url(#bgGradient)" stroke="#4a5568" stroke-width="2"/>
  <rect x="32" y="24" width="64" height="80" rx="6" ry="6" fill="url(#lightGradient)" stroke="#cbd5e0" stroke-width="1.5"/>
  <rect x="40" y="36" width="48" height="4" rx="2" fill="#4299e1" opacity="0.8"/>
  <rect x="40" y="46" width="36" height="4" rx="2" fill="#cbd5e0"/>
  <rect x="40" y="58" width="48" height="4" rx="2" fill="#4299e1" opacity="0.8"/>
  <rect x="40" y="68" width="42" height="4" rx="2" fill="#cbd5e0"/>
  <rect x="40" y="80" width="48" height="4" rx="2" fill="#4299e1" opacity="0.8"/>
  <rect x="40" y="90" width="30" height="4" rx="2" fill="#cbd5e0"/>
  <path d="M 75 56 L 85 66 L 75 76 L 78 73 L 82 69 L 100 69 L 100 63 L 82 63 L 78 59 Z" fill="url(#formGradient)" stroke="#2f855a" stroke-width="1"/>
  <circle cx="44" cy="32" r="2" fill="#ffd700" opacity="0.8"/>
  <circle cx="84" cy="36" r="1.5" fill="#ffd700" opacity="0.6"/>
  <circle cx="92" cy="96" r="2" fill="#ffd700" opacity="0.8"/>
  <circle cx="36" cy="96" r="1.5" fill="#ffd700" opacity="0.6"/>
  <circle cx="64" cy="64" r="60" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="1"/>
</svg>`;

        function createIcon(canvasId, size) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');

            // Create image from SVG
            const img = new Image();
            const svg = new Blob([svgString], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(svg);

            img.onload = function() {
                ctx.drawImage(img, 0, 0, size, size);
                URL.revokeObjectURL(url);
            };

            img.src = url;
        }

        function downloadIcon(canvasId, filename) {
            const canvas = document.getElementById(canvasId);
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // Generate all icons when page loads
        window.onload = function() {
            createIcon('icon16', 16);
            createIcon('icon32', 32);
            createIcon('icon48', 48);
            createIcon('icon128', 128);
        };
    </script>
</body>
</html>